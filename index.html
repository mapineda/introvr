<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <div id="webglviewer"></div>

    <script src="./js/three.min.js"></script>
      <script src="./js/StereoEffect.js"></script>
      <script src="./js/DeviceOrientationControls.js"></script>
      <script src="./js/OrbitControls.js"></script>
      <script src="https://timezonedb.googlecode.com/files/timezonedb.js" type="text/javascript"></script>

      <script>
        var scene,
            camera,
            renderer,
            element,
            container,
            effect,
            controls,
            clock,

          //Particles
          particles = new THREE.Object3D(),
          totalParticles = 200,
          maxParticles = 200,
          particleRotationSpeed = 0,
          particleRotationDeg = 0,
          lastColorRange = [0,0.3],
          currentColorRange = [0, 0.3],

          //City and weather API set up


      //init
      init();
        function init() {
          scene = new THREE.Scene();
          camera = new THREE.PerspectiveCamera(90, window.innerWidth/windo.innerHeight, 0.001, 700);
          camera.position.set(0,15,0);
          scene.add(camera);

          renderer = new WebGLRenderer();
          element = renderer.domElement;
          container = document.getElementById('webglviewer');
          container.appendChild(element);

          effect = new THREE.StereoEffect(renderer);

          // Our initial control fallback with mouse/touch events in case DeviceOrientation is not enabled
          controls = new THREE.OrbitControls(camera, element);
          controls.target.set(
            camera.position.x + 0.15,
            camera.position.y,
            camera.position.z
          );

          controls.noPan = true;
          controls.noZoom = true;

          //Our preferred controls via DeviceOrientation
          function setOrientationControls() {
            if (!e.alpha) {
              return;
            }

            controls = new THREE.DeviceOrientationControls(camera, true);
                      controls.connect();
                      controls.update();
                      element.addEventListener('click', fullscreen, false);
                      window.removeEventListener('deviceorientation', setOrientationControls, true);

          }
          window.addEventListener('deviceorientation', setOrientationControls, true);

          //lighting



        }


      </script>

  </body>
</html>
